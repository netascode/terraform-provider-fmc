---
name: Device HA Pair Monitoring
rest_endpoint: /api/fmc_config/v1/domain/{DOMAIN_UUID}/devicehapairs/ftddevicehapairs/%v/monitoredinterfaces
data_source_query_parameter: logical_name
put_create: true
doc_category: Device
test_tags: [TF_VAR_device_ha_id]
attributes:
  - tf_name: device_id
    type: String
    reference: true
    description: UUID of the parent HA device (fmc_device.example.id).
    example: 76d24097-41c4-4558-a4d0-a8c07ac08470
    test_value: var.device_ha_id
  - model_name: type
    type: String
    computed: true
    description: Type of the resource.
# General
  - model_name: name
    tf_name: logical_name
    description: Logical Name of the monitored interface.
    type: String
    example: "outside"
  - model_name: monitorForFailures
    tf_name: monitor_interface
    description: Monitor this interface for failures.
    type: Bool
    example: true
  - model_name: activeIPv4Address
    tf_name: ipv4_active_address
    data_path: [ipv4Configuration]
    type: String
    description: >-
      Active IP address from the interface.
    computed: true
  - model_name: standbyIPv4Address
    tf_name: ipv4_standby_address
    data_path: [ipv4Configuration]
    type: String
    description: >-
      Standby IP address. It has to be in the same subnet as primaty IP configured on this interface.
    example: 10.1.1.2
  - model_name: activeIPv4Mask
    tf_name: ipv4_netmask
    data_path: [ipv4Configuration]
    type: String
    description: >-
      Network Mask assigned on the interface.
    computed: true
test_prerequisites: |-
  variable "device_ha_id" { default = null } // tests will set $TF_VAR_device_ha_id