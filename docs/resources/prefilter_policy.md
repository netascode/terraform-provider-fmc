---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "fmc_prefilter_policy Resource - terraform-provider-fmc"
subcategory: "Policy"
description: |-
  This resource can manage a Prefilter Policy.
---

# fmc_prefilter_policy (Resource)

This resource can manage a Prefilter Policy.

## Example Usage

```terraform
resource "fmc_prefilter_policy" "example" {
  name                              = "POLICY1"
  description                       = "My prefilter policy"
  default_action                    = "BLOCK_TUNNELS"
  default_action_log_begin          = true
  default_action_log_end            = false
  default_action_send_events_to_fmc = true
  default_action_syslog_config_id   = "35e197ca-33a8-11ef-b2d1-d98ae17766e7"
  default_action_snmp_config_id     = "76d24097-41c4-4558-a4d0-a8c07ac08470"
  rules = [
    {
      name               = "rule1"
      action             = "FASTPATH"
      rule_type          = "PREFILTER"
      log_begin          = true
      log_end            = true
      send_events_to_fmc = true
      send_syslog        = true
      syslog_config_id   = "35e197ca-33a8-11ef-b2d1-d98ae17766e7"
      syslog_severity    = "DEBUG"
      snmp_config_id     = "76d24097-41c4-4558-a4d0-a8c07ac08470"
      vlan_tag_literals = [
        {
          start_tag = "11"
          end_tag   = "22"
        }
      ]
      vlan_tag_objects = [
        {
          id = "76d24097-41c4-4558-a4d0-a8c07ac08470"
        }
      ]
      source_network_literals = [
        {
          value = "10.1.1.0/24"
        }
      ]
      source_network_objects = [
        {
          id   = "76d24097-41c4-4558-a4d0-a8c07ac08470"
          type = "Network"
        }
      ]
      destination_network_literals = [
        {
          value = "10.2.2.0/24"
        }
      ]
      destination_network_objects = [
        {
          id   = "76d24097-41c4-4558-a4d0-a8c07ac08470"
          type = "Network"
        }
      ]
      source_port_literals = [
        {
          protocol = "6"
          port     = "80"
        }
      ]
      source_port_objects = [
        {
          id = "76d24097-41c4-4558-a4d0-a8c07ac08470"
        }
      ]
      destination_port_literals = [
        {
          protocol = "6"
          port     = "80"
        }
      ]
      destination_port_objects = [
        {
          id = "76d24097-41c4-4558-a4d0-a8c07ac08470"
        }
      ]
      source_interfaces = [
        {
          id   = "76d24097-41c4-4558-a4d0-a8c07ac08470"
          type = "SecurityZone"
        }
      ]
      destination_interfaces = [
        {
          id   = "76d24097-41c4-4558-a4d0-a8c07ac08470"
          type = "SecurityZone"
        }
      ]
      tunnel_zone = [
        {
          id = "0050568A-7F57-0ed3-0000-004294975576"
        }
      ]
      encapsulation_ports_gre        = false
      encapsulation_ports_in_in_ip   = false
      encapsulation_ports_ipv6_in_ip = false
      encapsulation_ports_teredo     = false
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the prefilter policy.

### Optional

- `default_action` (String) Specifies the default action to take when none of the rules meet the conditions.
  - Choices: `BLOCK_TUNNELS`, `ANALYZE_TUNNELS`
- `default_action_log_begin` (Boolean) Indicating whether the device will log events at the beginning of the connection.
  - Default value: `false`
- `default_action_log_end` (Boolean) Indicating whether the device will log events at the end of the connection.
  - Default value: `false`
- `default_action_send_events_to_fmc` (Boolean) Indicating whether the device will send events to the Firepower Management Center event viewer.
  - Default value: `false`
- `default_action_snmp_config_id` (String) UUID of the SNMP alert. Can be set only when either default_action_log_begin or default_action_log_end is true.
- `default_action_syslog_config_id` (String) UUID of the syslog config. Can be set only when either default_action_log_begin or default_action_log_end is true.
- `description` (String) Description.
- `domain` (String) The name of the FMC domain
- `rules` (Attributes List) The ordered list of rules. (see [below for nested schema](#nestedatt--rules))

### Read-Only

- `default_action_id` (String) Default action ID.
- `id` (String) The id of the object

<a id="nestedatt--rules"></a>
### Nested Schema for `rules`

Required:

- `action` (String) What to do when the conditions defined by the rule are met.
  - Choices: `FASTPATH`, `ANALYZE`, `BLOCK`
- `name` (String) Name of the rule.
- `rule_type` (String) Indicates whether the rule is PREFILTER rule or TUNNEL rule. At least one Encapsulation Port Object (encapsulation_ports) is mandatory to be specified for TUNNEL Rules.
  - Choices: `PREFILTER`, `TUNNEL`

Optional:

- `bidirectional` (Boolean) Indicates whether the rule is bidirectional. Can be true only for TUNNEL rules. Default is false.
  - Default value: `false`
- `destination_interfaces` (Attributes Set) Set of objects that represent destination interfaces. (see [below for nested schema](#nestedatt--rules--destination_interfaces))
- `destination_network_literals` (Attributes Set) Set of objects that represent destinations of traffic (literally specified). (see [below for nested schema](#nestedatt--rules--destination_network_literals))
- `destination_network_objects` (Attributes Set) Set of objects that represent destinations of traffic (fmc_network, fmc_host, ...). (see [below for nested schema](#nestedatt--rules--destination_network_objects))
- `destination_port_literals` (Attributes Set) Set of objects that represent protocol/port (literally specified). Can be only set for PREFILTER rules. (see [below for nested schema](#nestedatt--rules--destination_port_literals))
- `destination_port_objects` (Attributes Set) Set of objects representing destination ports associated with the rule (fmc_port or fmc_port_group). Can be only set for PREFILTER rules. (see [below for nested schema](#nestedatt--rules--destination_port_objects))
- `enabled` (Boolean) Indicates whether the prefilter rule is in effect (true) or not (false). Default is true.
  - Default value: `true`
- `encapsulation_ports_gre` (Boolean) Indicating whether to set the GRE encapsulation protocol in the TUNNEL rule.
  - Default value: `false`
- `encapsulation_ports_in_in_ip` (Boolean) Indicating whether to set the IP-in-IP encapsulation protocol in the TUNNEL rule.
  - Default value: `false`
- `encapsulation_ports_ipv6_in_ip` (Boolean) Indicating whether to set the IPv6-in-IP encapsulation protocol in the TUNNEL rule.
  - Default value: `false`
- `encapsulation_ports_teredo` (Boolean) Indicating whether to set the TEREDO encapsulation protocol in the TUNNEL rule.
  - Default value: `false`
- `log_begin` (Boolean) Indicates whether the device will log events at the beginning of the connection. Default is false.
  - Default value: `false`
- `log_end` (Boolean) Indicates whether the device will log events at the end of the connection. Default is false.
  - Default value: `false`
- `send_events_to_fmc` (Boolean) Indicates whether the device will send events to the Firepower Management Center event viewer. Default is false.
  - Default value: `false`
- `send_syslog` (Boolean) Indicates whether the alerts associated with the prefilter rule are sent to default syslog configuration in Prefilter Logging. Default is false.
  - Default value: `false`
- `snmp_config_id` (String) UUID of the SNMP alert associated with the prefilter rule. Can be set only when either log_begin or log_end is true.
- `source_interfaces` (Attributes Set) Set of objects that represent source interfaces. (see [below for nested schema](#nestedatt--rules--source_interfaces))
- `source_network_literals` (Attributes Set) Set of objects that represent sources of traffic (literally specified). (see [below for nested schema](#nestedatt--rules--source_network_literals))
- `source_network_objects` (Attributes Set) Set of objects that represent sources of traffic (fmc_network, fmc_host, ...). (see [below for nested schema](#nestedatt--rules--source_network_objects))
- `source_port_literals` (Attributes Set) Set of objects that represent protocol/port (literally specified). Can be only set for PREFILTER rules. (see [below for nested schema](#nestedatt--rules--source_port_literals))
- `source_port_objects` (Attributes Set) Set of objects representing source ports associated with the rule (fmc_port or fmc_port_group). Can be only set for PREFILTER rules. (see [below for nested schema](#nestedatt--rules--source_port_objects))
- `syslog_config_id` (String) UUID of the syslog config. Can be set only when send_syslog is true and either log_begin or log_end is true. If not set, the default policy syslog configuration in Access Control Logging applies.
- `syslog_severity` (String) Override the Severity of syslog alerts.
  - Choices: `ALERT`, `CRIT`, `DEBUG`, `EMERG`, `ERR`, `INFO`, `NOTICE`, `WARNING`
- `tunnel_zone` (Attributes List) Can be only set for TUNNEL rules with ANALYZE action. Only one tunnel zone is accepted. (see [below for nested schema](#nestedatt--rules--tunnel_zone))
- `vlan_tag_literals` (Attributes Set) Set of objects that represent vlan tags (literally specified). (see [below for nested schema](#nestedatt--rules--vlan_tag_literals))
- `vlan_tag_objects` (Attributes Set) Set of objects representing vlan tags (fmc_vlan_tag, fmc_vlan_tag_group, ...). (see [below for nested schema](#nestedatt--rules--vlan_tag_objects))

Read-Only:

- `id` (String) Unique identifier (UUID) of the prefilter rule.

<a id="nestedatt--rules--destination_interfaces"></a>
### Nested Schema for `rules.destination_interfaces`

Optional:

- `id` (String) UUID of the object.
- `type` (String) Type of the object.


<a id="nestedatt--rules--destination_network_literals"></a>
### Nested Schema for `rules.destination_network_literals`

Optional:

- `value` (String)


<a id="nestedatt--rules--destination_network_objects"></a>
### Nested Schema for `rules.destination_network_objects`

Optional:

- `id` (String) UUID of the object (such as fmc_network.example.id, etc.).
- `type` (String) Type of the object (such as fmc_network.example.type, etc.).


<a id="nestedatt--rules--destination_port_literals"></a>
### Nested Schema for `rules.destination_port_literals`

Required:

- `protocol` (String)

Optional:

- `port` (String)


<a id="nestedatt--rules--destination_port_objects"></a>
### Nested Schema for `rules.destination_port_objects`

Optional:

- `id` (String) UUID of the object (such as fmc_port.example.id, fmc_port_group.example.id, ...).


<a id="nestedatt--rules--source_interfaces"></a>
### Nested Schema for `rules.source_interfaces`

Optional:

- `id` (String) UUID of the object.
- `type` (String) Type of the object.


<a id="nestedatt--rules--source_network_literals"></a>
### Nested Schema for `rules.source_network_literals`

Optional:

- `value` (String)


<a id="nestedatt--rules--source_network_objects"></a>
### Nested Schema for `rules.source_network_objects`

Optional:

- `id` (String) UUID of the object (such as fmc_network.example.id, etc.).
- `type` (String) Type of the object (such as fmc_network.example.type, etc.).


<a id="nestedatt--rules--source_port_literals"></a>
### Nested Schema for `rules.source_port_literals`

Required:

- `protocol` (String)

Optional:

- `port` (String)


<a id="nestedatt--rules--source_port_objects"></a>
### Nested Schema for `rules.source_port_objects`

Optional:

- `id` (String) UUID of the object (such as fmc_port.example.id, fmc_port_group.example.id, ...).


<a id="nestedatt--rules--tunnel_zone"></a>
### Nested Schema for `rules.tunnel_zone`

Optional:

- `id` (String) UUID of the object.


<a id="nestedatt--rules--vlan_tag_literals"></a>
### Nested Schema for `rules.vlan_tag_literals`

Optional:

- `end_tag` (String)
- `start_tag` (String)


<a id="nestedatt--rules--vlan_tag_objects"></a>
### Nested Schema for `rules.vlan_tag_objects`

Optional:

- `id` (String) UUID of the object (such as fmc_vlan_tag.example.id, etc.).

## Import

Import is supported using the following syntax:

```shell
terraform import fmc_prefilter_policy.example "<id>"
```
